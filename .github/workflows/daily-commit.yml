name: Daily Commit

on:
  schedule:
    - cron: '0 0 * * *' # Runs every day at midnight UTC

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '20'

    - name: Verify Node.js Version
      run: node -v

    - name: Checkout Repository
      uses: actions/checkout@v3

    - name: Configure Git
      run: |
        git config --global user.name 'realsubodh'
        git config --global user.email 'subodhsingh3477@gmail.com'

    - name: Make a change
      run: |
        echo $(date) > date.txt
        cat date.txt # Debugging line to check content of date.txt
        git add date.txt
        git status # Debugging line to check git status
        git commit -m "Daily commit"

    - name: Push changes
      env:
        PAT: ${{ secrets.PAT }}
      run: |
        git remote -v # Debugging line to check remote url
        git push https://realsubodh:${{ secrets.PAT }}@github.com/realsubodh/daily-commit-repo.git
